{"version":3,"sources":["../../src/middlewares/auth.js"],"names":[],"mappings":"AAAA;;;;;;;AAOA;AACA;gZACA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA;;;AAGA,IAAM,OAAO,SAAP,IAAO,GAAW;AACtB,4FAAO,iBAAM,GAAN,EAAW,IAAX;AACD,eAAC,IAAI,OAAL,IAAgB,CAAC,IAAI,OAAJ,CAAY,IAD5B;AAEH,kBAAI,IAAJ,CAAS,IAAT,EAAe,GAAf,EAAoB,MAApB,EAFG;;;AAKC,sBALD,iEAAP;;AAOD,CARD,C;;AAUE,I,GAAA,I","file":"auth.js","sourcesContent":["/*\n * @Author: fengyun2\n * @Date:   2016-07-21 11:22:40\n * @Last Modified by:   fengyun2\n * @Last Modified time: 2016-07-21 11:48:34\n */\n\n\"use strict\";\n///<reference path=\"../../typings/globals/node/node.d.ts\" />\nvar util = require('util');\n\n/*\n * 校验会话\n */\nconst auth = function() {\n  return async(ctx, next) => {\n    if (!ctx.session || !ctx.session.user) {\n      ctx.send(null, 999, \"会话失效\");\n      return;\n    }\n    await next()\n  }\n}\nexport {\n  auth\n}\n"]}